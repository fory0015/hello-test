<div class="calc-official">
  <!-- 选择详情 -->
  <nz-card style="width:300px;" nzTitle="已选择" [nzExtra]="extraTemplate">
    <p>level:<span *ngIf="level">{{startLevel}},{{endLevel}},{{sumExp}}</span></p>
    <p>map:<span *ngIf="selectMap">{{selectMap.name}},{{selectMap.exp}},{{selectMap.downlevel}}</span></p>
    <p>
      <label nz-checkbox [(ngModel)]="isCaptain">队长</label>
      <label nz-checkbox [(ngModel)]="isMvp">mvp</label>
      <label nz-checkbox [(ngModel)]="isVow">誓约</label>
      <label nz-checkbox [(ngModel)]="isHolyLiver">圣肝</label>
    </p>
    <p>
      <button nz-button nzType="primary" (click)="sure()">确定</button>
      <span *ngIf="isSure" style="margin-left: 50px;">报告书:{{sumExp / 3000}}</span>
    </p>
  </nz-card>
  <ng-template #extraTemplate>
    <a (click)="clearSelect()">clear</a>
  </ng-template>

  <!-- 结果 -->
  <nz-card style="width: 500px !important;" *ngIf="isSure">
    <p>{{resultMsg}}</p>
  </nz-card>

  <!-- 等级 -->
  <nz-row class="level" nzType="flex" nzAlign="middle" nzJustify="space-around" nzGutter="16">
    <nz-col nzSpan="4">
      <nz-input-number [nzMin]="1" [nzMax]="100" [(ngModel)]="startLevel" (ngModelChange)="changeLevel()"></nz-input-number>
    </nz-col>
    <nz-col nzSpan="12">
      <nz-slider nzRange [nzMin]="1" [nzMax]="100" [nzMarks]="marks" [(ngModel)]="level" (nzOnAfterChange)="levelSliderChange()"></nz-slider>
    </nz-col>
    <nz-col nzSpan="4">
      <nz-input-number [nzMin]="1" [nzMax]="100" [(ngModel)]="endLevel" (ngModelChange)="changeLevel()"></nz-input-number>
    </nz-col>
  </nz-row>

  <!-- 地图 -->
  <nz-row class="map" nzType="flex" nzAlign="middle" nzJustify="start" nzGutter="16">
    <nz-col *ngFor="let map of mapInfos" nzSpan="2">
      <button nz-button nzType="default" [ngClass]="{'isSelect': selectMap?.name === map.name}" (click)="initMapInfo(map)">{{map.name}}</button>
    </nz-col>
  </nz-row>
</div>
